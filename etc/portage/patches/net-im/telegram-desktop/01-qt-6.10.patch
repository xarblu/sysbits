diff --git a/Telegram/SourceFiles/platform/linux/integration_linux.cpp b/Telegram/SourceFiles/platform/linux/integration_linux.cpp
index 0bb06f5..7e7d9e3 100644
--- a/Telegram/SourceFiles/platform/linux/integration_linux.cpp
+++ b/Telegram/SourceFiles/platform/linux/integration_linux.cpp
@@ -18,6 +18,7 @@ https://github.com/telegramdesktop/tdesktop/blob/master/LEGAL
 #include "base/random.h"
 
 #include <QtCore/QAbstractEventDispatcher>
+#include <QElapsedTimer>
 
 #include <gio/gio.hpp>
 #include <xdpinhibit/xdpinhibit.hpp>
Submodule cmake contains modified content
diff --git a/cmake/external/qt/package.cmake b/cmake/external/qt/package.cmake
index 4500e16..9dded1d 100644
--- a/cmake/external/qt/package.cmake
+++ b/cmake/external/qt/package.cmake
@@ -66,7 +66,7 @@ if (NOT LINUX AND NOT DESKTOP_APP_USE_PACKAGED AND NOT qt_requested EQUAL QT_VER
     message(FATAL_ERROR "Configured Qt version ${QT_VERSION} does not match requested version ${qt_requested}. Please reconfigure.")
 endif()
 
-find_package(Qt${QT_VERSION_MAJOR} COMPONENTS Core Gui Widgets Network Svg REQUIRED)
+find_package(Qt${QT_VERSION_MAJOR} COMPONENTS Core CorePrivate Gui GuiPrivate Widgets WidgetsPrivate Network Svg REQUIRED)
 find_package(Qt${QT_VERSION_MAJOR} OPTIONAL_COMPONENTS Quick QuickWidgets QUIET)
 
 if (QT_VERSION_MAJOR GREATER_EQUAL 6)
