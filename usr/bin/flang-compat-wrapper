#!/usr/bin/env bash

# simple flang wrapper to filter
# unsupported flags

ARGV=()

for arg; do
    case "${arg}" in
        -pipe) ;;
        --version)
            exec flang --version | \
                sed -E -e "1s|(.*)|\1 (via ${BASH_SOURCE[0]##*/})|"
            exit "${?}"
            ;;
        *) ARGV+=("${arg}") ;;
    esac
done

exec flang "${ARGV[@]}"
